# i3 config file (v4)
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

### current bindings

# Super
#  # mundane DE-like actions & modes
#  [htns]           move focus
#  a/o              split direction horizontal/vertical
#  d                dmenu
#  e                fullscreen
#  f#               focus workspace
#  space            focus move layers
#
#  Mod1
#    [htns]         move workspace next/prev
#
#  Tab              launch-mode
#    b              browser
#    d              pay for refreshments at the office
#    e              editor
#    g              games
#    i              irc
#    m              music
#    p              post/mail
#    t              torrent
#    Mod1
#      [bm]         # alternative applications
#    Ctrl
#      [m]          # runtime (re)configuration
#
#  u                resize-mode
#    [htns]         grow/shrink window (large increments)
#    Shift
#      [htns]       grow/shrink window (small increments)
#
#  s                session-mode
#    k              kill (actually WM_DELETE, else X11 SIGKILL)
#    l              lock screen
#    p              poweroff
#    q              i3 quit
#    r              reboot
#    s              lock screen and suspend
#    1              i3 restart
#    2              i3 reload config
#
#  Shift+           # shift geometry / layout
#    [htns]         window focused move workspace
#    fn             window move to other workspace
#    o              rotate container / normal-mode
#    a              tabbed-mode
#    space          window toggle float


### base

  # see `$ xmodmap -pm` for valid modifiers
  set $mod Mod4


### appearance

  ## font
  font pango:DejaVu Sans Mono 8

  ## window
  new_window pixel 1

  ## colors
  # class                  border   backgr.  text     indica.
  client.focused           #386941  #386941  #c2c2c2  #3A827A
  client.focused_inactive  #444444  #444444  #c2c2c2  #444444
  client.unfocused         #444444  #444444  #c2c2c2  #444444
  client.urgent            #900000  #900000  #c2c2c2  #900000
  #client.placeholder       #000000  #000000  #c2c2c2  #000000
  client.background        #000000
  

### focus binds

  ## focus inheritance
  #bindsym $mod+a focus parent
  #bindsym $mod+d focus child

  ## focus positional
  bindsym $mod+h focus left
  bindsym $mod+t focus down
  bindsym $mod+n focus up
  bindsym $mod+s focus right

  ## focus layers
  bindsym $mod+space focus mode_toggle


### layout binds

  ## split orientation
  bindsym $mod+a split h
  bindsym $mod+o split v

  ## move focused around
  bindsym $mod+Shift+h move left
  bindsym $mod+Shift+t move down
  bindsym $mod+Shift+n move up
  bindsym $mod+Shift+s move right

  ## display modes
  #bindsym $mod+s           layout   stacking
  bindsym $mod+Shift+a     layout   tabbed
  bindsym $mod+Shift+o     layout   toggle split
  bindsym $mod+Shift+space floating toggle

  ## float
  floating_modifier $mod

  ## fullscreen
  bindsym $mod+e fullscreen toggle


### workspace binds

  ## cycle workspace
  bindsym $mod+Mod1+h workspace prev_on_output
  bindsym $mod+Mod1+t workspace next_on_output
  bindsym $mod+Mod1+n workspace prev
  bindsym $mod+Mod1+s workspace next

  ## focus workspace
  bindsym $mod+F1  workspace  1
  bindsym $mod+F2  workspace  2
  bindsym $mod+F3  workspace  3
  bindsym $mod+F4  workspace  4
  bindsym $mod+F5  workspace  5
  bindsym $mod+F6  workspace  6
  bindsym $mod+F7  workspace  7
  bindsym $mod+F8  workspace  8
  bindsym $mod+F9  workspace  9
  bindsym $mod+F10 workspace 10
  bindsym $mod+F11 workspace 11
  bindsym $mod+F12 workspace 12

  ## move focused to workspace
  bindsym $mod+Shift+F1  move container to workspace  1
  bindsym $mod+Shift+F2  move container to workspace  2
  bindsym $mod+Shift+F3  move container to workspace  3
  bindsym $mod+Shift+F4  move container to workspace  4
  bindsym $mod+Shift+F5  move container to workspace  5
  bindsym $mod+Shift+F6  move container to workspace  6
  bindsym $mod+Shift+F7  move container to workspace  7
  bindsym $mod+Shift+F8  move container to workspace  8
  bindsym $mod+Shift+F9  move container to workspace  9
  bindsym $mod+Shift+F10 move container to workspace 10
  bindsym $mod+Shift+F11 move container to workspace 11
  bindsym $mod+Shift+F12 move container to workspace 12


### basic commands

  bindsym $mod+d               exec dmenu_run

  # ensure that we can alway open a terminal
  bindsym $mod+Return exec i3-sensible-terminal


### modes

  ## launch-mode
  # for launching X11 applications
  set $m_x11launch  "<launch> [b]rowser [d]rinks [e]ditor [g]ames [i]rc [m]usic [p]ost/mail [t]orrent"
  mode $m_x11launch {

    bindsym b exec firefox              ; mode "default"
    bindsym d exec "~/bin/pay-for-drinks 4"        ; mode "default"
    bindsym e exec i3-sensible-editor   ; mode "default"
    bindsym g exec steam                ; mode "default"
    bindsym i exec i3-sensible-terminal -e irssi   ; mode "default"
    bindsym m exec i3-sensible-terminal -e ncmpcpp ; mode "default"
    bindsym p workspace "12"; exec i3-sensible-terminal -e mutt -F ~/.config/mutt/muttrc ; mode "default"
    bindsym t exec i3-sensible-terminal -e transmission-remote-cli ; mode "default"

    bindsym Mod1+b exec chromium        ; mode "default"
    bindsym Mod1+m exec vlc             ; mode "default"

    bindsym Ctrl+m exec i3-sensible-terminal -e pulsemixer ; mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
  }


  ## resize-mode
  # for resizing tiles
  set $m_resize  "<resize>"
  mode $m_resize {

    set $resize_s  1
    set $resize_m 10

    # medium resize
    bindsym h resize shrink width  $resize_m px or $resize_m ppt
    bindsym t resize shrink height $resize_m px or $resize_m ppt
    bindsym n resize grow   height $resize_m px or $resize_m ppt
    bindsym s resize grow   width  $resize_m px or $resize_m ppt

    # small resize with Shift
    bindsym Shift+h resize shrink width  $resize_s px or $resize_s ppt
    bindsym Shift+t resize shrink height $resize_s px or $resize_s ppt
    bindsym Shift+n resize grow   height $resize_s px or $resize_s ppt
    bindsym Shift+s resize grow   width  $resize_s px or $resize_s ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
  }


  ## session-mode
  # for meta-actions in the session
  set $m_session "<session> [k]ill [l]ock [p]oweroff [q]uit [r]eboot [s]uspend | 1:restart 2:reload"
  mode $m_session {

    # system power
    bindsym r exec "i3-nagbar -t warning -m 'Reboot!?'   -b 'Yes, REBOOT!'   'systemctl reboot'"   ; mode "default"
    bindsym p exec "i3-nagbar -t warning -m 'Poweroff!?' -b 'Yes, POWEROFF!' 'systemctl poweroff'" ; mode "default"

    # locking session
    bindsym l exec "i3lock --color=000000"                       ; mode "default"
    bindsym s exec "i3lock --color=000000 && systemctl suspend"  ; mode "default"

    # kill
    bindsym k kill            ; mode "default"

    # i3 meta stuff
    bindsym e exec "i3-nagbar -t warning -m 'Quit i3!?' -b 'Yes, EXIT i3!' 'i3-msg exit; systemctl --user isolate daemon.target'" ; mode "default"
    bindsym 1 restart    ; mode "default"
    bindsym 2 reload     ; mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
  }


  ## mode binds
  bindsym $mod+i   mode $m_session
  bindsym $mod+Tab mode $m_x11launch
  bindsym $mod+u   mode $m_resize


### options

  # prevents wondering why UI suddenly stopped responding
  popup_during_fullscreen leave_fullscreen


### status bar 

  bar {

    position       top
    mode           hide
    modifier       $mod

    tray_output    primary
#    tray_padding   0

    status_command exec i3status

    font           pango:DejaVu Sans Mono, Icons 8

    colors {
      background   #000000
      statusline   #c2c2c2

      # class            border  bg      fg
      focused_workspace  #444444 #444444 #c2c2c2
      active_workspace   #444444 #444444 #000000
      inactive_workspace #444444 #000000 #666666
      urgent_workspace   #900000 #900000 #c2c2c2
#      binding_mode       #386941 #000000 #c2c2c2
    }
  }
